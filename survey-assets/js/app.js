(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

;

(function () {
  jQuery(document).ready(function ($) {
    $('html').removeClass('no-js');
    $('html').addClass('js-enabled');
    var youtube = document.querySelectorAll('.youtube');

    for (var i = 0; i < youtube.length; i++) {
      var source = 'https://img.youtube.com/vi/' + youtube[i].dataset.embed + '/sddefault.jpg';
      var image = new Image();
      image.src = source;
      image.addEventListener('load', function () {
        youtube[i].appendChild(image);
      }(i));
      youtube[i].addEventListener('click', function () {
        var iframe = document.createElement('iframe');
        iframe.setAttribute('frameborder', '0');
        iframe.setAttribute('allowfullscreen', '');
        iframe.setAttribute('src', 'https://www.youtube.com/embed/' + this.dataset.embed + '?rel=0&showinfo=0&autoplay=1');
        this.innerHTML = '';
        this.appendChild(iframe);
      });
    }

    $(document).ready(function () {
      $('details').click(function (event) {
        var index = $('details').index(this);
        var len = $("details").length;

        for (var i = 0; i < len; i++) {
          if (i != index) {
            $("details")[i].removeAttribute("open");
          }
        }
      });
    }); // Hamburger animation

    $('.js-hamburger-toggle').on('click', function () {
      $('.js-hamburger-toggle').toggleClass('is-active');
      $('body, html').toggleClass('js-nav-open');
      return false;
    }); // Foldout menu

    $('.site-header__foldout .navigation--primary .hs-menu-depth-1 > a').append('<span class="navigation__arrow">&rsaquo;</span>');
    $('.site-header__foldout .navigation--primary .hs-menu-depth-1 > a').click(function () {
      $(this).parent().toggleClass('is-active');
    });
    $('.site-header__foldout .navigation--simple .hs-menu-depth-1 > a').append('<span class="navigation__arrow">&rsaquo;</span>');
    $('.site-header__foldout .navigation--simple .hs-menu-depth-1 > a').click(function () {
      $(this).parent().toggleClass('is-active');
    }); // aa-modal

    $('.aa-modal-trigger').click(function (e) {
      e.preventDefault();
      var $video = $(this).find('video');
      $('body').addClass('aa-modal-open');
      $(this).next('.aa-modal').addClass('aa-modal--open');

      if ($video.length) {
        $video.get(0).play();
      }
    });
    $('.aa-modal, .aa-modal__close').click(function (e) {
      e.stopPropagation();
      var $body = $('body');

      if ($(this).hasClass('aa-modal')) {
        $(this).removeClass('aa-modal--open');
        var $video = $(this).find('video');

        if ($video.length) {
          $video.get(0).pause();
        }

        $body.removeClass('aa-modal-open');
      } else if ($(this).hasClass('aa-modal__close')) {
        var _$video = $(this).parents('.aa-modal').find('video');

        $(this).parents('.aa-modal').removeClass('aa-modal--open');

        if (_$video.length) {
          _$video.get(0).pause();
        }

        $body.removeClass('aa-modal-open');
      }
    }); // Vidyard event listener

    if (typeof vidyardEmbed !== "undefined") {
      vidyardEmbed.api.addReadyListener(function (_, player) {
        // Modal play/pause handling
        var $player = $(player.element);
        var $modal = $player.parents('.aa-modal');
        var $modalTrigger = $modal.siblings('.aa-modal-trigger');
        var $modalClose = $modal.find('.aa-modal__close');
        $modalTrigger.click(function () {
          player.play();
        });
        $modal.click(function () {
          player.pause();
        });
        $modalClose.click(function () {
          player.pause();
        });
      });
    } //Faq module


    $('.faq__item__header').click(function () {
      $(this).parent('.faq__item').toggleClass('open');
      $(this).next('.faq__item__body').slideToggle();
    }); //faq-vertical

    $('.faq-vertical__item__footer').click(function () {
      $(this).parent('.faq-vertical__item,.faq-vertical__item__body').toggleClass('open');
      $(this).next('.faq-vertical__item__body').slideToggle();
    }); //faq-button

    $('.faq-button__header').click(function () {
      $(this).parent('.faq-button').toggleClass('open');
    }); //Plans-page tabs

    $('#service-plans').click(function () {
      $('.faq-vertical').addClass('active');
      $('#service-plans').addClass('active');
      $('.license-models').removeClass('active');
      $('#license-models').removeClass('active');
    });
    $('#license-models').click(function () {
      $('.license-models').addClass('active');
      $('.faq-vertical').removeClass('active');
      $('#license-models').addClass('active');
      $('#service-plans').removeClass('active');
    }); // Plans page features

    $('.faq-vertical-plus').click(function () {
      $(this).parents('.faq-vertical-item').toggleClass('open');
    }); // Subscription page checkboxes

    (function () {
      var input = $('.subscription-page .email-prefs .item input[type="checkbox"]');
      var checkedInput = $('.subscription-page .email-prefs .item input[type="checkbox"]:checked');
      checkedInput.parents('.item').addClass('checked'); // Add class to pre-checked checkbox container

      input.parents('.item').click(function () {
        var el = $(this).find('input');

        if (el.is(":checked")) {
          el.prop("checked", false);
        } else {
          el.prop("checked", true);
        }

        $(this).toggleClass('checked');
      });
    })();

    $('.aa-hero__aa-modal-open').click(function () {
      $(this).parents('.aa-hero').addClass('aa-hero--aa-modal-active');
    });
    $('.aa-hero__aa-modal,.aa-hero__aa-modal-close').click(function () {
      $(this).parents('.aa-hero').removeClass('aa-hero--aa-modal-active');
    }); // Smooth scroll to anchors on blog-index-categories

    $(function () {
      $('.aa-categories-nav a[href*=\\#]:not([href=\\#])').click(function () {
        if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');

          if (target.length) {
            $('html,body').animate({
              scrollTop: target.offset().top - 0 //offset for fixed header

            }, 1000);
            return false;
          }
        }
      });
    });
  });
})();

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFBRyxhQUFZO0FBRVgsRUFBQSxNQUFNLENBQUMsUUFBRCxDQUFOLENBQWlCLEtBQWpCLENBQXVCLFVBQVUsQ0FBVixFQUFhO0FBQ2hDLElBQUEsQ0FBQyxDQUFDLE1BQUQsQ0FBRCxDQUFVLFdBQVYsQ0FBc0IsT0FBdEI7QUFDQSxJQUFBLENBQUMsQ0FBQyxNQUFELENBQUQsQ0FBVSxRQUFWLENBQW1CLFlBQW5CO0FBRUEsUUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGdCQUFULENBQTBCLFVBQTFCLENBQWQ7O0FBRUEsU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFiLEVBQWdCLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBNUIsRUFBb0MsQ0FBQyxFQUFyQyxFQUF5QztBQUVyQyxVQUFJLE1BQU0sR0FBRyxnQ0FBZ0MsT0FBTyxDQUFDLENBQUQsQ0FBUCxDQUFXLE9BQVgsQ0FBbUIsS0FBbkQsR0FBMkQsZ0JBQXhFO0FBRUEsVUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFKLEVBQVo7QUFDQSxNQUFBLEtBQUssQ0FBQyxHQUFOLEdBQVksTUFBWjtBQUNBLE1BQUEsS0FBSyxDQUFDLGdCQUFOLENBQXVCLE1BQXZCLEVBQStCLFlBQVk7QUFDdkMsUUFBQSxPQUFPLENBQUMsQ0FBRCxDQUFQLENBQVcsV0FBWCxDQUF1QixLQUF2QjtBQUNILE9BRjhCLENBRTdCLENBRjZCLENBQS9CO0FBSUEsTUFBQSxPQUFPLENBQUMsQ0FBRCxDQUFQLENBQVcsZ0JBQVgsQ0FBNEIsT0FBNUIsRUFBcUMsWUFBWTtBQUU3QyxZQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixRQUF2QixDQUFiO0FBRUEsUUFBQSxNQUFNLENBQUMsWUFBUCxDQUFvQixhQUFwQixFQUFtQyxHQUFuQztBQUNBLFFBQUEsTUFBTSxD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QUFLLFFBQXhHLEVBQWtIO0FBQ2hILGNBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLElBQU4sQ0FBZDtBQUNBLFVBQUEsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLE1BQWhCLEdBQXlCLENBQUMsQ0FBQyxXQUFXLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsQ0FBaEIsQ0FBWCxHQUErQixHQUFoQyxDQUFuQzs7QUFDQSxjQUFJLE1BQU0sQ0FBQyxNQUFYLEVBQW1CO0FBQ2pCLFlBQUEsQ0FBQyxDQUFDLFdBQUQsQ0FBRCxDQUFlLE9BQWYsQ0FBdUI7QUFDckIsY0FBQSxTQUFTLEVBQUUsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsR0FBaEIsR0FBc0IsQ0FEWixDQUNjOztBQURkLGFBQXZCLEVBRUcsSUFGSDtBQUdBLG1CQUFPLEtBQVA7QUFDRDtBQUNGO0FBQ0YsT0FYRDtBQVlELEtBYkEsQ0FBRDtBQWNILEdBaE1EO0FBaU1ILENBbk1FLEdBQUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCI7IChmdW5jdGlvbiAoKSB7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgkKSB7XG4gICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnbm8tanMnKTtcbiAgICAgICAgJCgnaHRtbCcpLmFkZENsYXNzKCdqcy1lbmFibGVkJyk7XG5cbiAgICAgICAgdmFyIHlvdXR1YmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcueW91dHViZScpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeW91dHViZS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICB2YXIgc291cmNlID0gJ2h0dHBzOi8vaW1nLnlvdXR1YmUuY29tL3ZpLycgKyB5b3V0dWJlW2ldLmRhdGFzZXQuZW1iZWQgKyAnL3NkZGVmYXVsdC5qcGcnO1xuXG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IHNvdXJjZTtcbiAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgeW91dHViZVtpXS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICAgICAgICB9KGkpKTtcblxuICAgICAgICAgICAgeW91dHViZVtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblxuICAgICAgICAgICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2ZyYW1lYm9yZGVyJywgJzAnKTtcbiAgICAgICAgICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhbGxvd2Z1bGxzY3JlZW4nLCAnJyk7XG4gICAgICAgICAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLycgKyB0aGlzLmRhdGFzZXQuZW1iZWQgKyAnP3JlbD0wJnNob3dpbmZvPTAmYXV0b3BsYXk9MScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJ2RldGFpbHMnKS5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkKCdkZXRhaWxzJykuaW5kZXgodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9ICQoXCJkZXRhaWxzXCIpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpICE9IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiZGV0YWlsc1wiKVtpXS5yZW1vdmVBdHRyaWJ1dGUoXCJvcGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhhbWJ1cmdlciBhbmltYXRpb25cbiAgICAgICAgJCgnLmpzLWhhbWJ1cmdlci10b2dnbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcuanMtaGFtYnVyZ2VyLXRvZ2dsZScpLnRvZ2dsZUNsYXNzKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICAgICAgJCgnYm9keSwgaHRtbCcpLnRvZ2dsZUNsYXNzKCdqcy1uYXYtb3BlbicpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBGb2xkb3V0IG1lbnVcbiAgICAgICAgJCgnLnNpdGUtaGVhZGVyX19mb2xkb3V0IC5uYXZpZ2F0aW9uLS1wcmltYXJ5IC5ocy1tZW51LWRlcHRoLTEgPiBhJykuYXBwZW5kKCc8c3BhbiBjbGFzcz1cIm5hdmlnYXRpb25fX2Fycm93XCI+JnJzYXF1bzs8L3NwYW4+Jyk7XG4gICAgICAgICQoJy5zaXRlLWhlYWRlcl9fZm9sZG91dCAubmF2aWdhdGlvbi0tcHJpbWFyeSAuaHMtbWVudS1kZXB0aC0xID4gYScpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoJy5zaXRlLWhlYWRlcl9fZm9sZG91dCAubmF2aWdhdGlvbi0tc2ltcGxlIC5ocy1tZW51LWRlcHRoLTEgPiBhJykuYXBwZW5kKCc8c3BhbiBjbGFzcz1cIm5hdmlnYXRpb25fX2Fycm93XCI+JnJzYXF1bzs8L3NwYW4+Jyk7XG4gICAgICAgICQoJy5zaXRlLWhlYWRlcl9fZm9sZG91dCAubmF2aWdhdGlvbi0tc2ltcGxlIC5ocy1tZW51LWRlcHRoLTEgPiBhJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhYS1tb2RhbFxuICAgICAgICAkKCcuYWEtbW9kYWwtdHJpZ2dlcicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCAkdmlkZW8gPSAkKHRoaXMpLmZpbmQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnYWEtbW9kYWwtb3BlbicpO1xuICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCcuYWEtbW9kYWwnKS5hZGRDbGFzcygnYWEtbW9kYWwtLW9wZW4nKTtcblxuICAgICAgICAgICAgaWYgKCAkdmlkZW8ubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICR2aWRlby5nZXQoMCkucGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuYWEtbW9kYWwsIC5hYS1tb2RhbF9fY2xvc2UnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0ICRib2R5ID0gJCgnYm9keScpO1xuXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYWEtbW9kYWwnKSkge1xuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FhLW1vZGFsLS1vcGVuJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgJHZpZGVvID0gJCh0aGlzKS5maW5kKCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIGlmICggJHZpZGVvLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAgICAgJHZpZGVvLmdldCgwKS5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkYm9keS5yZW1vdmVDbGFzcygnYWEtbW9kYWwtb3BlbicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhYS1tb2RhbF9fY2xvc2UnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICR2aWRlbyA9ICQodGhpcykucGFyZW50cygnLmFhLW1vZGFsJykuZmluZCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5hYS1tb2RhbCcpLnJlbW92ZUNsYXNzKCdhYS1tb2RhbC0tb3BlbicpO1xuICAgICAgICAgICAgICAgIGlmICgkdmlkZW8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICR2aWRlby5nZXQoMCkucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJGJvZHkucmVtb3ZlQ2xhc3MoJ2FhLW1vZGFsLW9wZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVmlkeWFyZCBldmVudCBsaXN0ZW5lclxuICAgICAgICBpZiAodHlwZW9mIHZpZHlhcmRFbWJlZCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICAgIHZpZHlhcmRFbWJlZC5hcGkuYWRkUmVhZHlMaXN0ZW5lcigoXywgcGxheWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9kYWwgcGxheS9wYXVzZSBoYW5kbGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0ICRwbGF5ZXIgPSAkKHBsYXllci5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCAkbW9kYWwgPSAkcGxheWVyLnBhcmVudHMoJy5hYS1tb2RhbCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRtb2RhbFRyaWdnZXIgPSAkbW9kYWwuc2libGluZ3MoJy5hYS1tb2RhbC10cmlnZ2VyJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgJG1vZGFsQ2xvc2UgPSAkbW9kYWwuZmluZCgnLmFhLW1vZGFsX19jbG9zZScpO1xuICAgICAgICAgICAgICAgICRtb2RhbFRyaWdnZXIuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxheSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRtb2RhbC5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRtb2RhbENsb3NlLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vRmFxIG1vZHVsZVxuICAgICAgICAkKCcuZmFxX19pdGVtX19oZWFkZXInKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoJy5mYXFfX2l0ZW0nKS50b2dnbGVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCcuZmFxX19pdGVtX19ib2R5Jykuc2xpZGVUb2dnbGUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vZmFxLXZlcnRpY2FsXG4gICAgICAgICQoJy5mYXEtdmVydGljYWxfX2l0ZW1fX2Zvb3RlcicpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgnLmZhcS12ZXJ0aWNhbF9faXRlbSwuZmFxLXZlcnRpY2FsX19pdGVtX19ib2R5JykudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICQodGhpcykubmV4dCgnLmZhcS12ZXJ0aWNhbF9faXRlbV9fYm9keScpLnNsaWRlVG9nZ2xlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvL2ZhcS1idXR0b25cbiAgICAgICAgJCgnLmZhcS1idXR0b25fX2hlYWRlcicpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgnLmZhcS1idXR0b24nKS50b2dnbGVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy9QbGFucy1wYWdlIHRhYnNcbiAgICAgICAgJCgnI3NlcnZpY2UtcGxhbnMnKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgJCgnLmZhcS12ZXJ0aWNhbCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJyNzZXJ2aWNlLXBsYW5zJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLmxpY2Vuc2UtbW9kZWxzJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnI2xpY2Vuc2UtbW9kZWxzJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgJCgnI2xpY2Vuc2UtbW9kZWxzJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoJy5saWNlbnNlLW1vZGVscycpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy5mYXEtdmVydGljYWwnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcjbGljZW5zZS1tb2RlbHMnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcjc2VydmljZS1wbGFucycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgIC8vIFBsYW5zIHBhZ2UgZmVhdHVyZXNcbiAgICAgICAgJCgnLmZhcS12ZXJ0aWNhbC1wbHVzJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5mYXEtdmVydGljYWwtaXRlbScpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy8gU3Vic2NyaXB0aW9uIHBhZ2UgY2hlY2tib3hlc1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gJCgnLnN1YnNjcmlwdGlvbi1wYWdlIC5lbWFpbC1wcmVmcyAuaXRlbSBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgICAgIHZhciBjaGVja2VkSW5wdXQgPSAkKCcuc3Vic2NyaXB0aW9uLXBhZ2UgLmVtYWlsLXByZWZzIC5pdGVtIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpjaGVja2VkJyk7XG5cbiAgICAgICAgICAgIGNoZWNrZWRJbnB1dC5wYXJlbnRzKCcuaXRlbScpLmFkZENsYXNzKCdjaGVja2VkJyk7IC8vIEFkZCBjbGFzcyB0byBwcmUtY2hlY2tlZCBjaGVja2JveCBjb250YWluZXJcblxuICAgICAgICAgICAgaW5wdXQucGFyZW50cygnLml0ZW0nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsID0gJCh0aGlzKS5maW5kKCdpbnB1dCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSgpO1xuXG4gICAgICAgICQoJy5hYS1oZXJvX19hYS1tb2RhbC1vcGVuJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5hYS1oZXJvJykuYWRkQ2xhc3MoJ2FhLWhlcm8tLWFhLW1vZGFsLWFjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgJCgnLmFhLWhlcm9fX2FhLW1vZGFsLC5hYS1oZXJvX19hYS1tb2RhbC1jbG9zZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmFhLWhlcm8nKS5yZW1vdmVDbGFzcygnYWEtaGVyby0tYWEtbW9kYWwtYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNtb290aCBzY3JvbGwgdG8gYW5jaG9ycyBvbiBibG9nLWluZGV4LWNhdGVnb3JpZXNcbiAgICAgICAgJChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKCcuYWEtY2F0ZWdvcmllcy1uYXYgYVtocmVmKj1cXFxcI106bm90KFtocmVmPVxcXFwjXSknKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywnJykgPT0gdGhpcy5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywnJykgJiYgbG9jYXRpb24uaG9zdG5hbWUgPT0gdGhpcy5ob3N0bmFtZSkge1xuICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzLmhhc2gpO1xuICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJCgnW25hbWU9JyArIHRoaXMuaGFzaC5zbGljZSgxKSArJ10nKTtcbiAgICAgICAgICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDAgLy9vZmZzZXQgZm9yIGZpeGVkIGhlYWRlclxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0oKSk7Il19
